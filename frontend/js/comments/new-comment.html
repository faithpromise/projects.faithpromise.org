<form class="Comment" ng-submit="vm.save_comment()">

  <div class="NewComment-header">
    <div class="NewComment-avatarWrap">
      <img class="NewComment-avatar" ng-src="{{ vm.sender.avatar_url }}">
    </div>
    <div class="NewComment-meta">
      <input class="NewComment-subjectInput" type="text" ng-model="vm.comment.subject" ng-keyup="vm.subject_overridden = true">
      <!--<span class="NewComment-subject" ng-click="vm.subject_overridden = true" ng-hide="vm.subject_overridden">{{ vm.comment.subject || 'New Comment' }}</span>-->
      <!--<input class="NewNewCommentsubject" type="text" placeholder="Subject..." ng-model="vm.comment.subject">-->
    </div>
  </div>

  <div class="NewComment-body">
    <textarea class="NewComment-textarea" ng-model="vm.comment.body" ng-change="vm.auto_subject()" msd-elastic></textarea>
  </div>

  <div class="NewComment-recipientsWrap">
    <div class="NewComment-addRecipients">
      <user-picker placeholder="Add recipients" selected="vm.recipients"></user-picker>
    </div>
    <div class="NewComment-existingRecipients">
      <ul class="NewComment-recipients">
        <li class="NewComment-recipient" ng-repeat="recipient in vm.recipients" ng-click="vm.remove_recipient(recipient)">{{ recipient.abbreviation }}</li>
      </ul>
    </div>
  </div>

  <button class="Button Button--sm Button--block Button--primary" type="submit">Send</button>

  <!--<user-picker placeholder="Add recipients" selected="vm.recipients"></user-picker>-->



</form>
